<form class="{{cssClass}} {{actor.type}} flexcol sheet-contents" autocomplete="off">

  {{!-- Sheet Header --}}
  <header class="sheet-header npc-header">
      
      <div class="header-fields">
        <div class="img-row grid grid-4col">
          <img class="profile" id="actor-profile" src="{{actor.img}}" title="{{actor.name}}" data-edit="img"/>
          <div>
              <h2 >Threat Level</h2>
              <h2 class="pocket"><input name="data.tl.value" type="text" value="{{data.tl.value}}" placeholder="Ex: 3" data-dtype="String"/></h2>
          </div>
          <div>
            <h2 >Pocket</h2>
            <h2 class="pocket"><input name="data.credits.pocket.value" type="text" value="{{data.credits.pocket.value}}" placeholder="Pocket" data-dtype="String"/></h2>
          </div>
          <div>
            <h2>Bank</h2>
            <h2 class="bank"><input name="data.credits.bank.value" type="text" value="{{data.credits.bank.value}}" placeholder="Bank" data-dtype="String"/></h2>
          </div>
        </div>
        
        
          <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
          {{!-- The grid classes are defined in scss/global/_grid.scss. To use,
          use both the "grid" and "grid-Ncol" class where "N" can be any number
          from 1 to 12 and will create that number of columns.  --}}
          <div class="resources grid grid-4col">
            {{!-- "flex-group-center" is also defined in the _grid.scss file
            and it will add a small amount of padding, a border, and will
            center all of its child elements content and text. --}}
            <div class="resource flex-group-center">
                <label for="data.hp.value" class="resource-label">HP</label>
                <div class="resource-content flexrow flex-center flex-between">
                  <input type="text" name="data.hp.value" value="{{data.hp.value}}" data-dtype="Number"/>
                  <span> / </span>
                  <input type="text" name="data.hp.max" value="{{data.hp.max}}" data-dtype="Number"/>
                </div>
            </div>
            <div class="resource flex-group-center">
                <label for="data.ar.value" class="resource-label">AR</label>
                <div class="resource-content flexrow flex-center flex-between">
                  <input type="text" name="data.ar.value" value="{{data.ar.value}}" data-dtype="Number"/>
                  <span> / </span>
                  <input type="text" name="data.ar.max" value="{{data.ar.max}}" data-dtype="Number"/>
                </div>
            </div>
            <div class="resource flex-group-center">
              <label for="data.sr.value" class="resource-label">SR</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.sr.value" value="{{data.sr.value}}" data-dtype="Number"/>
                <span> / </span>
                <input type="text" name="data.sr.max" value="{{data.sr.max}}" data-dtype="Number"/>
              </div>
            </div>
            <div class="resource flex-group-center">
              <label for="data.evasion.value" class="resource-label">Evasion</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.evasion.value" value="{{data.evasion.value}}" data-dtype="Number"/>
              </div>
            </div>
        </div>

        <div class="resources grid grid-3col">
          {{!-- "flex-group-center" is also defined in the _grid.scss file
          and it will add a small amount of padding, a border, and will
          center all of its child elements content and text. --}}
          <div class="resource flex-group-center">
              <label for="data.attributes.Physique.value" class="resource-label rollable" data-roll="d10+@attributes.Physique.value" data-label="Physique">Physique</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.attributes.Physique.value" value="{{data.attributes.Physique.value}}" data-dtype="Number"/>
              </div>
          </div>
          <div class="resource flex-group-center">
              <label for="data.attributes.Dexterity.value" class="resource-label rollable" data-roll="d10+@attributes.Dexterity.value" data-label="Dexterity">Dexterity</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.attributes.Dexterity.value" value="{{data.attributes.Dexterity.value}}" data-dtype="Number"/>
              </div>
          </div>
          <div class="resource flex-group-center">
            <label for="data.attributes.Intelligence.value" class="resource-label rollable" data-roll="d10+@attributes.Intelligence.value" data-label="Intelligence">Intelligence</label>
            <div class="resource-content flexrow flex-center flex-between">
              <input type="text" name="data.attributes.Intelligence.value" value="{{data.attributes.Intelligence.value}}" data-dtype="Number"/>
            </div>
          </div>
          <div class="resource flex-group-center">
              <label for="data.attributes.Charisma.value" class="resource-label rollable" data-roll="d10+@attributes.Charisma.value" data-label="Charisma">Charisma</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.attributes.Charisma.value" value="{{data.attributes.Charisma.value}}" data-dtype="Number"/>
              </div>
          </div>
          <div class="resource flex-group-center">
              <label for="data.attributes.Psyche.value" class="resource-label rollable" data-roll="d10+@attributes.Psyche.value" data-label="Psyche">Psyche</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.attributes.Psyche.value" value="{{data.attributes.Psyche.value}}" data-dtype="Number"/>
              </div>
          </div>
          <div class="resource flex-group-center">
              <label for="data.attributes.Mysticism.value" class="resource-label rollable" data-roll="d10+@attributes.Mysticism.value" data-label="Mysticism">Mysticism</label>
              <div class="resource-content flexrow flex-center flex-between">
                <input type="text" name="data.attributes.Mysticism.value" value="{{data.attributes.Mysticism.value}}" data-dtype="Number"/>
              </div>
          </div>
      </div>
        {{!-- Skills Tab --}}
      <div class="tab biography" data-group="primary" data-tab="skills">
          <!-- {{editor content=data.biography target="data.biography" button=true owner=owner editable=editable}} -->
          <div>
          </div>
      </div>

      </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
      <a class="item" data-tab="skills">Skills</a>
      <a class="item" data-tab="items">Equipment</a>
      <a class="item" data-tab="features">Features</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Skills Tab --}}
    <div class="tab biography" data-group="primary" data-tab="skills">
        <!-- {{editor content=data.biography target="data.biography" button=true owner=owner editable=editable}} -->
        <div class="skills">
          {{#each data.skills as |skill key|}}
          {{#if skill.active}}
              <div class="skill flexcol " data-skill="{{key}}">
                <h4 for="data.skills.{{key}}.value" class="skill-name rollable " data-roll="d10+@skills.{{key}}.value" data-label="{{key}}">{{key}}</h4>
                <input class="skill-input" type="text" name="data.skills.{{key}}.value" value="{{skill.value}}" data-dtype="Number"/>
              </div>
              {{/if}}
          {{/each}}
        </div>
    </div>

    <div class="tab weapons" data-group="primary" data-tab="weapons">
      
  </div>

  {{!-- Owned Items Tab --}}
  <div class="tab items" data-group="primary" data-tab="items">
    <h2>Attacks</h2>
    <ol class="items-list">
      <li class="item flexrow item-header">
        <div class="item-image"></div>
        <div class="item-name"">Name</div>
        <div class="item-damage"">Damage</div>
        <div class="item-range">Range</div>
        <div class="item-ammo">Ammo</div>
        <div class="item-controls">
          <a class="item-control item-create" title="Create item" data-type="weapon"><i class="fas fa-plus"></i> Add Weapon</a>
        </div>
      </li>
    {{#each weapons as |weapon id|}}
      <li class="item flexrow items-list-item" data-item-id="{{weapon._id}}">
          <div class="item-image" ><img src="{{weapon.img}}" title="{{weapon.name}}" width="24" height="24"/></div>
          <h4 class="item-name collapsible"><a class="item-name">{{weapon.name}}</a></h4>
          <h4 class="item-damage rollable" data-roll="{{data.damage}}" data-label="{{damage}}"><a class="item-damage">{{data.damage}}</a></h4>
          <h4 class="item-range">{{data.range}}</h4>
          <h4 class="item-ammo">{{data.ammoCurrent}}/{{data.ammoMax}}</h4>
          <div class="item-controls">
              <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
              <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
          </div>
      </li>
      <div class="item-description">
        {{{data.description}}}
      </div>
    {{/each}}
    </ol>

        <h2>Equipment</h2>
        <ol class="items-list">
            <li class="item flexrow item-header">
              <div class="item-image"></div>
              <div class="item-name">Name</div>
              <div class="item-quantity">Quantity</div>
              <div></div>
              <div></div>
              <div class="item-controls">
                <a class="item-control item-create" title="Create item" data-type="item"><i class="fas fa-plus"></i> Add item</a>
              </div>
            </li>
        {{#each gear as |item id|}}
            <li class="item flexrow items-list-item" data-item-id="{{item._id}}">
                <div class="item-image"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></div>
                <h4 class="item-name collapsible"><a class="item-name">{{item.name}}</a></h4>
                <h4 class="item-quantity">{{data.quantity}}</h4>
                <h4></h4>
                <h4></h4>
                <div class="item-controls">
                    <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                </div>
                
            </li>
            <div class="item-description">
              {{{data.description}}}
            </div>
        {{/each}}
        </ol>
    </div>
    
    {{!-- Owned Features Tab --}}
    <div class="tab features" data-group="primary" data-tab="features">
        <ol class="items-list">
            <li class="item flexrow item-header">
              <div class="item-image"></div>
              <div class="item-name">Name</div>
              <div class="item-controls">
                <a class="item-control item-create" title="Create item" data-type="feature"><i class="fas fa-plus"></i> Add item</a>
              </div>
            </li>
        {{#each features as |feature id|}}
            <li class="item flexrow" data-item-id="{{feature._id}}">
                <div class="item-image"><img src="{{feature.img}}" title="{{feature.name}}" width="24" height="24"/></div>
                <h4><a class="item-name collapsible">{{feature.name}}</a></h4>
                <div class="item-controls">
                    <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
                    <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                </div>
            </li>
            <div class="item-description">
              {{{data.description}}}
            </div>
        {{/each}}
        </ol>
    </div>

    <script>
      var coll = Array.from(document.getElementsByClassName("collapsible"));
      var content = Array.from(document.getElementsByClassName("item-description"));
      var i;

      

      for (let i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
          this.classList.toggle("active");
          if (content[i].style.maxHeight){
            content[i].style.maxHeight = null;
          } else {
            content[i].style.maxHeight = content[i].scrollHeight + "px";
          }
      });
    }

      
    </script>
  </section>
</form>


